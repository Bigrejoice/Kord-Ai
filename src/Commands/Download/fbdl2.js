const a0_0x926d5b=a0_0x4354;function a0_0x4354(_0x6d8cd1,_0x1221fb){const _0x7bf7ce=a0_0x7bf7();return a0_0x4354=function(_0x4354b1,_0x44526f){_0x4354b1=_0x4354b1-0x160;let _0x14167d=_0x7bf7ce[_0x4354b1];return _0x14167d;},a0_0x4354(_0x6d8cd1,_0x1221fb);}(function(_0x155e58,_0x5e89d5){const _0x1760ca=a0_0x4354,_0x155d7b=_0x155e58();while(!![]){try{const _0x33bbd0=-parseInt(_0x1760ca(0x17f))/0x1*(parseInt(_0x1760ca(0x1a3))/0x2)+-parseInt(_0x1760ca(0x173))/0x3+parseInt(_0x1760ca(0x19e))/0x4+parseInt(_0x1760ca(0x1a2))/0x5*(parseInt(_0x1760ca(0x19f))/0x6)+parseInt(_0x1760ca(0x18a))/0x7*(parseInt(_0x1760ca(0x175))/0x8)+-parseInt(_0x1760ca(0x189))/0x9*(parseInt(_0x1760ca(0x1af))/0xa)+parseInt(_0x1760ca(0x180))/0xb;if(_0x33bbd0===_0x5e89d5)break;else _0x155d7b['push'](_0x155d7b['shift']());}catch(_0x3cac43){_0x155d7b['push'](_0x155d7b['shift']());}}}(a0_0x7bf7,0xeef97));const fetch=require(a0_0x926d5b(0x18e)),fs=require('fs')[a0_0x926d5b(0x199)],path=require('path'),{createWriteStream}=require('fs'),{pipeline}=require(a0_0x926d5b(0x197)),emojis={'search':'üîç','found':'üéâ','noResults':'üòï','error':'ü§ñ','downloadChoice':'üëá','option':'‚úÖ','processing':'‚è≥','done':'üöÄ','warning':'‚ö†Ô∏è','info':'‚ÑπÔ∏è'},MAX_DOWNLOAD_SIZE=settings[a0_0x926d5b(0x169)]*0x400*0x400,TEMP_DIR='./temp',RETRY_ATTEMPTS=0x3,RETRY_DELAY=0x3e8;class FacebookDownloader{constructor(_0x3c5720,_0x3bf62f,_0x2c51c8){const _0x568276=a0_0x926d5b;this['sock']=_0x3c5720,this['m']=_0x3bf62f,this['args']=_0x2c51c8,this[_0x568276(0x185)]=null;}async['execute'](){const _0x58c203=a0_0x926d5b;try{const _0x14025e=this[_0x58c203(0x198)][0x0];if(!_0x14025e)return await kord[_0x58c203(0x1a5)](this['m'],emojis[_0x58c203(0x17b)]+'\x20Please\x20provide\x20a\x20Facebook\x20video\x20URL.');await this[_0x58c203(0x16a)](_0x14025e);if(!this[_0x58c203(0x185)])return;const _0x25d9e2=await this[_0x58c203(0x16b)]();if(!_0x25d9e2)return;await this[_0x58c203(0x17e)](_0x25d9e2);}catch(_0x3fab3c){console['error'](_0x58c203(0x192),_0x3fab3c),await kord[_0x58c203(0x19d)](this['m'],emojis[_0x58c203(0x17d)]),await kord['reply'](this['m'],emojis[_0x58c203(0x17d)]+'\x20An\x20unexpected\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}}async[a0_0x926d5b(0x16a)](_0x3fb5b9){const _0x78771e=a0_0x926d5b;for(let _0x1bee3c=0x0;_0x1bee3c<RETRY_ATTEMPTS;_0x1bee3c++){try{const _0x1a5620=await fetch(_0x78771e(0x16d)+_0x3fb5b9+'&apikey=btzmouricedevs'),_0x41aeaf=await _0x1a5620['json']();if(_0x41aeaf[_0x78771e(0x186)]===0xc8&&_0x41aeaf[_0x78771e(0x19b)]){this[_0x78771e(0x185)]=_0x41aeaf['data'];return;}else return await kord['reply'](this['m'],emojis['noResults']+_0x78771e(0x172)),null;}catch(_0x3d64e3){if(_0x1bee3c===RETRY_ATTEMPTS-0x1){console[_0x78771e(0x17d)](_0x78771e(0x171),_0x3d64e3);throw _0x3d64e3;}await new Promise(_0x242a2a=>setTimeout(_0x242a2a,RETRY_DELAY));}}}async[a0_0x926d5b(0x16b)](){const _0x39cc07=a0_0x926d5b,_0xeed0e=[_0x39cc07(0x193),'`[2]\x20High\x20Definition\x20(HD)`'],_0x2c8fc8='\x0aüìΩÔ∏è\x20*Kord-Ai\x20FACEBOOK-DOWNLOADER*\x20üìΩÔ∏è\x0a\x0aüîó\x20Link:\x20'+this[_0x39cc07(0x198)][0x0]+'\x0a\x0aüî¢\x20Select\x20the\x20download\x20quality:\x0a\x0a'+_0xeed0e['join']('\x0a'),_0x492a27=await kord[_0x39cc07(0x162)](_0x2c8fc8,_0x39cc07(0x178)),_0x4ce568=await kord[_0x39cc07(0x1b2)](this['m'],this[_0x39cc07(0x185)]['image'],_0x492a27);await kord[_0x39cc07(0x19d)](this['m'],emojis[_0x39cc07(0x1b1)]);const _0x2d2c74=await kord[_0x39cc07(0x183)](this['m'],_0x4ce568,0x7530);if(!_0x2d2c74)return await kord[_0x39cc07(0x1a5)](this['m'],emojis['warning']+'\x20Timed\x20out\x20waiting\x20for\x20your\x20choice.'),null;return await kord[_0x39cc07(0x19d)](this['m'],emojis[_0x39cc07(0x16e)]),_0x2d2c74['response']==='2'&&this[_0x39cc07(0x185)]['hd']?'hd':'sd';}async[a0_0x926d5b(0x17e)](_0x15b703){const _0x4ac512=a0_0x926d5b,_0x18a30d=_0x15b703==='hd'?this[_0x4ac512(0x185)]['hd']:this[_0x4ac512(0x185)]['sd'];if(!_0x18a30d){await kord[_0x4ac512(0x1a5)](this['m'],emojis['error']+_0x4ac512(0x19c));return;}const _0x14d391=await this[_0x4ac512(0x166)](_0x18a30d);if(_0x14d391>MAX_DOWNLOAD_SIZE)return await kord[_0x4ac512(0x1a5)](this['m'],emojis[_0x4ac512(0x164)]+_0x4ac512(0x181)+(_0x14d391/0x400/0x400)[_0x4ac512(0x1ab)](0x2)+_0x4ac512(0x1a0)+MAX_DOWNLOAD_SIZE/0x400/0x400+_0x4ac512(0x1a7));const _0x303be3=path[_0x4ac512(0x17a)](TEMP_DIR,_0x4ac512(0x18c)+Date['now']()+_0x4ac512(0x19a));await fs[_0x4ac512(0x195)](TEMP_DIR,{'recursive':!![]});const _0x453124=await kord[_0x4ac512(0x1a5)](this['m'],emojis['processing']+_0x4ac512(0x187));await this[_0x4ac512(0x18d)](_0x18a30d,_0x303be3,_0x453124);try{await kord['editMsg'](this['m'],_0x453124,emojis[_0x4ac512(0x1ae)]+'\x20Download\x20complete!\x20Sending\x20video...');const _0x28338b=_0x4ac512(0x182)+_0x15b703[_0x4ac512(0x196)]()+_0x4ac512(0x168)+(this[_0x4ac512(0x185)][_0x4ac512(0x176)]||_0x4ac512(0x1ac))+_0x4ac512(0x174)+(this[_0x4ac512(0x185)][_0x4ac512(0x1b3)]||'')[_0x4ac512(0x160)](0x0,0x64)+_0x4ac512(0x1a9);await kord['sendVideo'](this['m'],await fs[_0x4ac512(0x179)](_0x303be3),_0x28338b);}finally{await fs[_0x4ac512(0x1a1)](_0x303be3)[_0x4ac512(0x163)](console['error']);}}async[a0_0x926d5b(0x166)](_0x11dae3){const _0x4f7fe6=a0_0x926d5b,_0x5492af=await fetch(_0x11dae3,{'method':_0x4f7fe6(0x1a4)});return parseInt(_0x5492af[_0x4f7fe6(0x17c)][_0x4f7fe6(0x161)](_0x4f7fe6(0x170)),0xa);}async[a0_0x926d5b(0x18d)](_0x56cd79,_0x2413a9,_0x18757b){const _0x4c9161=a0_0x926d5b,_0x859986=createWriteStream(_0x2413a9),_0x2fb21e=await fetch(_0x56cd79),_0x676526=parseInt(_0x2fb21e[_0x4c9161(0x17c)][_0x4c9161(0x161)](_0x4c9161(0x170)),0xa);let _0x433dfa=0x0,_0x164303=Date[_0x4c9161(0x1ad)]();_0x2fb21e[_0x4c9161(0x191)]['on'](_0x4c9161(0x19b),_0x419bde=>{const _0x59ed39=_0x4c9161;_0x433dfa+=_0x419bde[_0x59ed39(0x18f)];const _0x179f80=Date[_0x59ed39(0x1ad)]();_0x179f80-_0x164303>0x1388&&(this[_0x59ed39(0x16f)](_0x18757b,_0x433dfa,_0x676526),_0x164303=_0x179f80);}),await pipeline(_0x2fb21e[_0x4c9161(0x191)],_0x859986);}async[a0_0x926d5b(0x16f)](_0x295d3f,_0x45778f,_0x2fde81){const _0x2f7a2e=a0_0x926d5b,_0x16de28=_0x45778f/_0x2fde81*0x64,_0x5958bf=this['getProgressBar'](_0x16de28);let _0x5d14d5=0x3e8;const _0x404b0b=0x3;for(let _0x4a6410=0x0;_0x4a6410<_0x404b0b;_0x4a6410++){try{await kord[_0x2f7a2e(0x1a8)](this['m'],_0x295d3f,emojis['processing']+_0x2f7a2e(0x190)+_0x16de28[_0x2f7a2e(0x1ab)](0x2)+'%\x0a'+_0x5958bf);return;}catch(_0x2a6b42){console[_0x2f7a2e(0x177)](_0x2f7a2e(0x194)+(_0x4a6410+0x1)+'):',_0x2a6b42['message']),_0x4a6410<_0x404b0b-0x1&&(await new Promise(_0x184581=>setTimeout(_0x184581,_0x5d14d5)),_0x5d14d5*=0x2);}}console[_0x2f7a2e(0x17d)]('Failed\x20to\x20update\x20progress\x20message\x20after\x20multiple\x20attempts');}[a0_0x926d5b(0x167)](_0x3cb806){const _0x279f59=a0_0x926d5b,_0x1842ea=Math[_0x279f59(0x18b)](_0x3cb806/0x5);return'‚ñà'[_0x279f59(0x1b0)](_0x1842ea)+'‚ñë'[_0x279f59(0x1b0)](0x14-_0x1842ea);}}module[a0_0x926d5b(0x16c)]={'usage':[a0_0x926d5b(0x1aa),a0_0x926d5b(0x1a6)],'desc':a0_0x926d5b(0x165),'commandType':a0_0x926d5b(0x184),'isGroupOnly':![],'isAdminOnly':![],'isPrivateOnly':![],'emoji':'‚¨áÔ∏è',async 'execute'(_0x6f2b78,_0xa6d82f,_0x5b973f){const _0x630ba6=a0_0x926d5b,_0x5c42be=new FacebookDownloader(_0x6f2b78,_0xa6d82f,_0x5b973f);await _0x5c42be[_0x630ba6(0x188)]();}};function a0_0x7bf7(){const _0x346a3f=['getFileSize','getProgressBar',')\x0a\x0aüë§\x20Author:\x20','MAX_DOWNLOAD_SIZE','fetchVideoInfo','promptQualitySelection','exports','https://api.betabotz.eu.org/api/download/fbdown?url=','option','updateProgressMessage','content-length','API\x20request\x20error:','\x20No\x20downloadable\x20links\x20found\x20for\x20this\x20video.','5284455IOGzJI','\x0aüìù\x20Description:\x20','8nxdqfB','owner','warn','smallBoldScript','readFile','join','search','headers','error','downloadAndSendVideo','61FpNfOo','33474573MOaDLa','\x20File\x20size\x20(','Facebook\x20Video\x20(','getResponseText','Download','videoInfo','status','\x20Downloading...\x200%','execute','1160721rihkPN','802039vpvLUf','round','fb_','downloadWithProgress','node-fetch','length','\x20Downloading...\x20','body','Error\x20in\x20Facebook\x20downloader:','`[1]\x20Standard\x20Definition\x20(SD)`','Failed\x20to\x20update\x20progress\x20message\x20(attempt\x20','mkdir','toUpperCase','stream/promises','args','promises','.mp4','data','\x20No\x20download\x20link\x20available\x20for\x20the\x20selected\x20quality.','react','5128168znBIVR','9054hNeZtM','\x20MB)\x20exceeds\x20the\x20limit\x20of\x20','unlink','570yBipVN','48674HbIGeD','HEAD','reply','facebook2','\x20MB.','editMsg','...','fb2','toFixed','Unknown','now','done','30GgRQLF','repeat','downloadChoice','sendImage','description','slice','get','changeFont','catch','warning','Download\x20Facebook\x20videos\x20with\x20advanced\x20features.'];a0_0x7bf7=function(){return _0x346a3f;};return a0_0x7bf7();}